{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cuongh\\\\Desktop\\\\Project-react\\\\project-react-cuong\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Home from './Home/Home';\nimport Index from './Infor/Index';\nimport YourCart from './YourCart/YourCart';\nimport { Routes, Route } from \"react-router-dom\";\nimport Login from './Accout/Login';\nimport Allsp from './AllSp/Allsp';\nimport SearchCpn from \"./Search/KqSearch\";\nimport Dangki from './Accout/dangki';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from './Api-Server/Sach';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [ketquaTk, setKetquaTk] = useState([]);\n  const [sach, setSach] = useState([]);\n  const [cartItem, setCartItem] = useState([]);\n  const [checkLg, setCheckLg] = useState(null);\n  useEffect(() => {\n    getSach();\n    getDataLocal();\n  }, []);\n\n  const getSach = async () => {\n    try {\n      let resSach = await axios.get(\"sach\");\n      setSach(resSach.data);\n    } catch (e) {\n      console.log(\"co loi roi sep oi\", e);\n    }\n  };\n\n  const onAdd = sach => {\n    const exits = cartItem.find(x => x.id === sach.id);\n\n    if (exits) {\n      toast.warning(\"đã cập nhật số lượng\");\n      setCartItem(cartItem.map(x => x.id === sach.id ? { ...exits,\n        qty: exits.qty + 1\n      } : x));\n    } else {\n      toast.success(\"thêm vào giỏ hàng thành công\");\n      setCartItem([...cartItem, { ...sach,\n        qty: 1\n      }]);\n    }\n  };\n\n  const onRemove = sach => {\n    const exits = cartItem.find(x => x.id === sach.id);\n\n    if (exits.qty === 1) {\n      setCartItem([]); // setCartItem(cartItem.filter(x => x.id !== sach.id));\n    } else {\n      setCartItem([]); // toast.warning(\"đã cập nhật số lượng\");\n      // setCartItem(cartItem.map(x => x.id === sach.id ? { ...exits, qty: exits.qty - 1 } : x))\n    }\n  };\n\n  const getDataLocal = async () => {\n    let check = await localStorage.getItem('checkLogin');\n    setCheckLg(check);\n  };\n\n  const checkLogin = () => {\n    if (checkLg === null) {\n      alert(\"bạn cần đăng nhập để thanh toán\");\n    } else {\n      setCartItem([]);\n      toast.success(\"thanh toán thành công\");\n    }\n  };\n\n  const ketquaSearch = item => {\n    if (item) {\n      setKetquaTk(item);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {\n          ketquaSearch: ketquaSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/infor/:id\",\n        element: /*#__PURE__*/_jsxDEV(Index, {\n          onAdd: onAdd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/cart\",\n        element: /*#__PURE__*/_jsxDEV(YourCart, {\n          onAdd: onAdd,\n          onRemove: onRemove,\n          cartItem: cartItem,\n          checkLogin: checkLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/allsp/:type\",\n        element: /*#__PURE__*/_jsxDEV(Allsp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        element: /*#__PURE__*/_jsxDEV(SearchCpn, {\n          ketquaTk: ketquaTk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dangki\",\n        element: /*#__PURE__*/_jsxDEV(Dangki, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"6C3vlF7fQs+G180y1wi+uyTK0Fw=\");\n\n_c = App;\nexport default App; // vấn đề:\n// +chưa truyền được dữ liệu sang cpn tìm kiếm\n// + Login render chưa đúng\n// + truyền props từ sản phẩm sang giỏ hàng có vấn đề\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Home","Index","YourCart","Routes","Route","Login","Allsp","SearchCpn","Dangki","ToastContainer","axios","toast","App","ketquaTk","setKetquaTk","sach","setSach","cartItem","setCartItem","checkLg","setCheckLg","getSach","getDataLocal","resSach","get","data","e","console","log","onAdd","exits","find","x","id","warning","map","qty","success","onRemove","check","localStorage","getItem","checkLogin","alert","ketquaSearch","item"],"sources":["C:/Users/cuongh/Desktop/Project-react/project-react-cuong/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Home from './Home/Home';\nimport Index from './Infor/Index';\nimport YourCart from './YourCart/YourCart';\nimport { Routes, Route } from \"react-router-dom\";\nimport Login from './Accout/Login';\nimport Allsp from './AllSp/Allsp';\nimport SearchCpn from \"./Search/KqSearch\";\nimport Dangki from './Accout/dangki';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from './Api-Server/Sach';\nimport { toast } from 'react-toastify';\n\n\nfunction App() {\n  const [ketquaTk, setKetquaTk] = useState([]);\n  const [sach, setSach] = useState([]);\n  const [cartItem, setCartItem] = useState([]);\n  const [checkLg, setCheckLg] = useState(null);\n\n\n  useEffect(() => {\n    getSach();\n    getDataLocal();\n  }, []);\n  const getSach = async () => {\n    try {\n      let resSach = await axios.get(\"sach\");\n      setSach(resSach.data);\n\n    } catch (e) {\n      console.log(\"co loi roi sep oi\", e);\n    }\n  }\n  const onAdd = (sach) => {\n    const exits = cartItem.find(x => x.id === sach.id);\n\n\n    if (exits) {\n      toast.warning(\"đã cập nhật số lượng\");\n      setCartItem(cartItem.map(x => x.id === sach.id ? { ...exits, qty: exits.qty + 1 } : x))\n    }\n    else {\n      toast.success(\"thêm vào giỏ hàng thành công\");\n      setCartItem([...cartItem, { ...sach, qty: 1 }])\n    }\n  }\n  const onRemove = (sach) => {\n    const exits = cartItem.find(x => x.id === sach.id)\n    if (exits.qty === 1) {\n      setCartItem([])\n      // setCartItem(cartItem.filter(x => x.id !== sach.id));\n    }\n    else {\n      setCartItem([])\n      // toast.warning(\"đã cập nhật số lượng\");\n      // setCartItem(cartItem.map(x => x.id === sach.id ? { ...exits, qty: exits.qty - 1 } : x))\n    }\n  }\n  const getDataLocal = async () => {\n    let check = await localStorage.getItem('checkLogin');\n    setCheckLg(check);\n  }\n  const checkLogin = () => {\n    if (checkLg === null) {\n      alert(\"bạn cần đăng nhập để thanh toán\")\n    }\n    else {\n      setCartItem([])\n      toast.success(\"thanh toán thành công\");\n    }\n  }\n  const ketquaSearch = (item) => {\n    if (item) {\n      setKetquaTk(item);\n    }\n  }\n  return (\n    <>\n      <Routes>\n        <Route path=\"/\" element={<Home ketquaSearch={ketquaSearch} />} />\n        <Route path=\"/infor/:id\" element={<Index onAdd={onAdd} />} />\n        <Route path=\"/cart\" element={<YourCart onAdd={onAdd} onRemove={onRemove} cartItem={cartItem} checkLogin={checkLogin} />} />\n        <Route path=\"/allsp/:type\" element={<Allsp />} />\n        <Route path=\"/search\" element={<SearchCpn ketquaTk={ketquaTk} />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/dangki\" element={<Dangki />} />\n      </Routes>\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n\n\n    </>\n\n  )\n}\n\nexport default App;\n\n// vấn đề:\n// +chưa truyền được dữ liệu sang cpn tìm kiếm\n// + Login render chưa đúng\n// + truyền props từ sản phẩm sang giỏ hàng có vấn đề\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}